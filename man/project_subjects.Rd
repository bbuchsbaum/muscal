% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/all_generic.R, R/covstatis.R
\name{project_subjects}
\alias{project_subjects}
\alias{project_subjects.covstatis}
\title{Project and Summarize New Subject Data (generic)}
\usage{
project_subjects(x, new_data, ...)

\method{project_subjects}{covstatis}(x, new_data, subject_ids = NULL, ...)
}
\arguments{
\item{x}{A fitted model object (e.g., `covstatis`).}

\item{new_data}{A single data instance or a list of instances to project. Each instance
must have dimensions compatible with the training data of the model.}

\item{...}{Other arguments passed to methods.}

\item{subject_ids}{Optional character vector of identifiers for the new subjects.
If not provided, names will be taken from \code{new_data} or generated automatically.}
}
\value{
A list containing scores, projections, and summary statistics. The exact
  contents depend on the specific method.

A list containing the following elements:
\item{subject_scores}{A matrix (\code{n_subjects} × \code{ncomp}) of subject-level coordinates in the compromise space.}
\item{subject_cosines}{A matrix (\code{n_subjects} × \code{ncomp}) of cosines, indicating alignment with each dimension.}
\item{scalar_summaries}{A \code{data.frame} with one row per subject, containing the \code{rv_coefficient} and \code{distance_to_compromise}.}
\item{roi_scores}{A list of matrices, where each element contains the ROI-level scores for a subject.}
}
\description{
Generic for projecting one or more new subject-level data instances (e.g., matrices)
into the compromise space of a fitted model. This function provides a comprehensive
analysis by computing several key metrics for each new instance.

This function provides a comprehensive analysis for one or more new subject matrices
by projecting them into the compromise space of a fitted \code{covstatis} model. It
computes several key metrics for each new matrix, following the projection logic
of \code{DISTATIS}.
}
\details{
The function performs the following steps for each new matrix:
\enumerate{
\item Applies the same pre-processing (double-centering, normalization) as the original model.
\item Calculates ROI-level factor scores (\code{roi_scores}), representing the coordinates of each ROI in the compromise space.
\item Calculates subject-level scores (\code{subject_scores} or "g-scores") as the barycentric mean of the ROI scores.
\item Calculates \code{subject_cosines} indicating the alignment of the subject's scores with each compromise dimension.
\item Calculates a global \code{rv_coefficient} measuring the overall similarity between the new matrix and the group compromise matrix.
\item Calculates the \code{distance_to_compromise}, the Frobenius distance between the new matrix and its projection onto the compromise subspace.
}
}
